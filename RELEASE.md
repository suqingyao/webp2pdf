# å‘å¸ƒæŒ‡å—

æœ¬é¡¹ç›®æä¾›äº†å¤šç§å‘å¸ƒæ–¹å¼æ¥è‡ªåŠ¨ç®¡ç†ç‰ˆæœ¬å·å’Œå‘å¸ƒæµç¨‹ã€‚

## ğŸš€ äº¤äº’å¼å‘å¸ƒï¼ˆæ¨èï¼‰

ä½¿ç”¨äº¤äº’å¼å‘å¸ƒå·¥å…·ï¼Œå¯ä»¥é€‰æ‹©ç‰ˆæœ¬ç±»å‹å¹¶ç¡®è®¤å‘å¸ƒï¼š

```bash
pnpm release
```

è¯¥å‘½ä»¤ä¼šï¼š
1. æ£€æŸ¥å·¥ä½œç›®å½•çŠ¶æ€
2. è®©ä½ é€‰æ‹©å‘å¸ƒç±»å‹ï¼ˆpatch/minor/majorï¼‰
3. æ˜¾ç¤ºæ–°ç‰ˆæœ¬å·é¢„è§ˆ
4. ç¡®è®¤åè‡ªåŠ¨æ‰§è¡Œå®Œæ•´å‘å¸ƒæµç¨‹

## ğŸ“¦ å¿«é€Ÿå‘å¸ƒ

å¦‚æœä½ å·²ç»çŸ¥é“è¦å‘å¸ƒçš„ç‰ˆæœ¬ç±»å‹ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼š

### Patch ç‰ˆæœ¬ï¼ˆä¿®å¤bugï¼‰
```bash
pnpm release:patch
```

### Minor ç‰ˆæœ¬ï¼ˆæ–°åŠŸèƒ½ï¼‰
```bash
pnpm release:minor
```

### Major ç‰ˆæœ¬ï¼ˆç ´åæ€§æ›´æ”¹ï¼‰
```bash
pnpm release:major
```

## ğŸ”„ å‘å¸ƒæµç¨‹

æ‰€æœ‰å‘å¸ƒå‘½ä»¤éƒ½ä¼šæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

1. **æ„å»ºé¡¹ç›®** - `pnpm build`
2. **è¿è¡Œæµ‹è¯•** - `pnpm test`
3. **æ›´æ–°ç‰ˆæœ¬** - `pnpm version [type]`
4. **æ¨é€ä»£ç ** - `git push`
5. **æ¨é€æ ‡ç­¾** - `git push --tags`
6. **å‘å¸ƒåˆ°npm** - `pnpm publish`

## âš ï¸ å‘å¸ƒå‰æ£€æŸ¥

åœ¨å‘å¸ƒå‰ï¼Œè¯·ç¡®ä¿ï¼š

- [ ] æ‰€æœ‰æ›´æ”¹å·²æäº¤åˆ°git
- [ ] ä»£ç å·²ç»è¿‡æµ‹è¯•
- [ ] README.md å·²æ›´æ–°
- [ ] CHANGELOG.md å·²æ›´æ–°ï¼ˆå¦‚æœæœ‰ï¼‰
- [ ] å·²ç™»å½•npmè´¦æˆ· (`npm login`)

## ğŸ› ï¸ ç‰ˆæœ¬å·è§„åˆ™

æœ¬é¡¹ç›®éµå¾ª [è¯­ä¹‰åŒ–ç‰ˆæœ¬](https://semver.org/lang/zh-CN/) è§„èŒƒï¼š

- **MAJOR** (ä¸»ç‰ˆæœ¬å·): ä¸å…¼å®¹çš„APIä¿®æ”¹
- **MINOR** (æ¬¡ç‰ˆæœ¬å·): å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
- **PATCH** (ä¿®è®¢å·): å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£

## ğŸ”§ æ‰‹åŠ¨å‘å¸ƒ

å¦‚æœéœ€è¦æ‰‹åŠ¨æ§åˆ¶å‘å¸ƒæµç¨‹ï¼š

```bash
# 1. æ„å»ºé¡¹ç›®
pnpm build

# 2. è¿è¡Œæµ‹è¯•
pnpm test

# 3. æ›´æ–°ç‰ˆæœ¬å·
pnpm version patch  # æˆ– minor/major

# 4. æ¨é€åˆ°git
git push && git push --tags

# 5. å‘å¸ƒåˆ°npm
pnpm publish
```

## ğŸ“ å‘å¸ƒå

å‘å¸ƒæˆåŠŸåï¼Œä½ å¯ä»¥åœ¨ä»¥ä¸‹åœ°æ–¹æŸ¥çœ‹ï¼š

- **npm**: https://www.npmjs.com/package/webp2pdf
- **GitHub Releases**: https://github.com/suqingyao/webp2pdf/releases

## ğŸš¨ æ•…éšœæ’é™¤

### å‘å¸ƒå¤±è´¥

å¦‚æœå‘å¸ƒè¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼š

1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. ç¡®è®¤npmç™»å½•çŠ¶æ€ (`npm whoami`)
3. æ£€æŸ¥package.jsonä¸­çš„ç‰ˆæœ¬å·æ˜¯å¦æ­£ç¡®
4. ç¡®è®¤gitä»“åº“çŠ¶æ€æ­£å¸¸

### ç‰ˆæœ¬å›æ»š

å¦‚æœéœ€è¦å›æ»šç‰ˆæœ¬ï¼š

```bash
# å›æ»šgitæ ‡ç­¾
git tag -d v1.0.1
git push origin :refs/tags/v1.0.1

# ä»npmæ’¤é”€å‘å¸ƒï¼ˆä»…é™å‘å¸ƒå24å°æ—¶å†…ï¼‰
npm unpublish webp2pdf@1.0.1
```

> âš ï¸ **æ³¨æ„**: npm unpublish æœ‰ä¸¥æ ¼çš„é™åˆ¶ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚